<!DOCTYPE html>
<html>
<head>
  <title>Full FOV Webcam Feed</title>
</head>
<body>
  <video id="video" width="1280" height="720" autoplay></video>
  <div id="resolution"></div>
  <div id="agent"></div>

  <script>
    const constraints = {
      video: {
        width: { ideal: 640 },
        facingMode: 'user' // 'user' for front camera, 'environment' for rear camera
      }
    };

    navigator.mediaDevices.getUserMedia(constraints)
      .then(function(stream) {
        const video = document.getElementById('video');
        video.srcObject = stream;

        const track = stream.getVideoTracks()[0];
        const settings = track.getSettings();

        const resolutionDiv = document.getElementById('resolution');
        resolutionDiv.textContent = `Resolution: ${settings.width}x${settings.height}`;
      })
      .catch(function(err) {
        console.error('Error accessing the camera: ' + err.name + " " + err.message);
      });

      // Function to check if the device is mobile
function isMobileDevice() {
  var userAgent = navigator.userAgent || navigator.vendor || window.opera;

  // Check for the presence of common mobile device identifiers
  if (/android|linux|galaxy|pixel/i.test(userAgent)) {
    return true;
  }

  if (/iPad|iPhone|iPod/.test(userAgent) && !window.MSStream) {
    return true;
  }

  // Additional checks for other mobile devices
  if (/mobile/i.test(userAgent)) {
    return true;
  }

  return false;
}

  const agentDiv = document.getElementById('agent');
  // Use the function to check the device type
  if (isMobileDevice()) {
    agentDiv.textContent = "Mobile";
    console.log("Mobile");
  } else {
    agentDiv.textContent = navigator.userAgent;
  }
  </script>
</body>
</html>
